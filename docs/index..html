{{> header menuType="main"}}

<main
  class="container mx-auto max-w-[1920px] flex-grow flex flex-col overflow-x-hidden"
>
  <!-- Скрытые данные для JavaScript -->
  <script type="application/json" id="initial-data">
    {
      "sliders": {{{json sliders}}}
    }
  </script>

  <script>
    window.initialData = JSON.parse(
      document.getElementById("initial-data").textContent
    );
  </script>

  <!-- Секция с каруселью -->
  <section
    id="swiper-section"
    class="bg-cover bg-center after:content-none xl:after:content-[''] before:content-none xl:before:content-[''] overflow-visible max-w-[1200px] mx-auto transition-opacity duration-300 ease-in-out animate-fadeIn duration-1000"
  >
    <div
      class="swiper-container w-full relative rounded-lg overflow-visible max-w-[100vw] lg-h-[500px]"
    >
      <div class="swiper-wrapper">
        {{#each sliders}}
        <div class="swiper-slide h-full max-w-[100vw]">
          <img
            src="{{../basePath}}assets/img/slider/snow-flake.svg"
            alt="snowflake"
            class="absolute top-[25%] left-[5%] blur-[2px] z-10 rotate-[-10deg]"
          />

          <img
            src="{{../basePath}}assets/img/slider/snow-flake.svg"
            alt="snowflake"
            class="absolute top-[22%] left-[25%] scale-[0.5] opacity-60 z-10 rotate-[-16deg]"
          />
          <img
            src="{{../basePath}}assets/img/slider/snow-flake.svg"
            alt="snowflake"
            class="absolute bottom-[-2%] left-[27%] scale-[1.5] blur-[6px] z-10 rotate-[-16deg]"
          />
          <img
            src="{{../basePath}}assets/img/slider/snow-flake.svg"
            alt="snowflake"
            class="absolute bottom-[25%] right-[5%] blur-[3px] z-10 rotate-[35deg]"
          />

          <img
            src="{{../basePath}}assets/img/slider/snow-flake.svg"
            alt="snowflake"
            class="absolute top-[35%] right-[-5%] scale-[0.5] z-10 rotate-[76deg]"
          />

          <div
            class="flex flex-col lg:flex-row justify-between items-center relative h-full"
          >
            <!-- Левая часть изображения -->
            <div
              class="hidden lg:block absolute left-[-82%] w-[100%] h-full z-0 overflow-visible left-image-container scale-[1.3]"
            >
              <img
                src="{{../basePath}}{{image}}"
                alt=""
                class="h-full object-cover object-right absolute right-0 top-2/3 transform -translate-y-1/3"
              />
            </div>

            <!-- Фоновое изображение для мобильной версии -->
            <div
              class="pointer-events-none lg:hidden inset-0 max-w-[100vw] w-full h-full z-0 left-image-container translate-y-2/3 -translate-x-2/3 scale-150 origin-top-left pr-5"
            >
              <div class=""></div>
              <img
                src="{{../basePath}}{{image}}"
                alt="{{altText}}"
                class="object-contain object-bottom h-full w-full mb-[10%]"
              />
            </div>

            <!-- Контентная часть -->
            <div
              class="w-full pr-0 mb-6 md:mb-0 z-10 flex flex-col justify-center h-full"
            >
              <div class="flex flex-col lg:flex-row h-full">
                <div class="flex flex-col w-full lg:w-2/5"></div>
                <div
                  class="flex flex-col w-full lg:w-3/5 h-full items-start lg:pr-[15%]"
                >
                  <div
                    class="relative h-full px-4 md:px-10 md:pr-12 w-full lg:min-h-[450px] before:content-none before:absolute before:inset-0 before:bg-gradient-to-t from-white to-brand-[#ebebeb] before:left-0 before:top-0 before:w-full before:h-[calc(100%+100px)] before:z-0"
                  >
                    <h1
                      class="text-h4 md:text-h3 font-bold text-brand-gray mb-4 md:mb-6 uppercase mt-10"
                    >
                      {{title}}
                    </h1>
                    <button
                      class="btn-gray px-3 py-3 w-full md:w-auto rounded-lg text-white flex flex-rows items-center justify-center gap-1 min-w-[6em] text-buttons mb-5 px-7"
                    >
                      {{buttonText}}
                    </button>
                    <p class="text-brand-gray line-clamp-3 md:line-clamp-none">
                      {{description}}
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Правая часть изображения -->
            <div
              class="hidden lg:block absolute right-[-93%] w-[100%] h-full z-0 right-image-container scale-[1.3]"
            >
              <img
                src="{{../basePath}}{{image}}"
                alt="{{altText}}"
                class="h-full absolute left-[10%] top-2/3 transform -translate-y-1/3 object-cover object-left"
              />
            </div>
          </div>
        </div>
        {{/each}}
      </div>

      <!-- Элементы управления -->
      <div
        class="select-none flex flex-row swiper-nav-container justify-between md:justify-center px-4 md:px-0 items-center h-[40px] opacity-0 animate-fade_in animation-delay-1500"
      >
        <div
          class="position-relative swiper-nav-arrow swiper-button-prev text-brand-blue after:text-lg p-4 lg:after:text-sm transition-opacity h-10 w-10 shadow-none border-2 border-brand-blue rounded-full rotate-180 cursor-pointer"
        ></div>
        <div
          class="swiper-pagination max-w-[6em] top-auto bottom-auto z-10 left-auto right-auto translate-x-0 translate-y-1/2 mt-3"
        ></div>
        <div
          class="position-relative swiper-nav-arrow swiper-button-next text-brand-blue after:text-lg p-4 lg:after:text-sm transition-opacity h-10 w-10 shadow-none border-2 border-brand-blue rounded-full cursor-pointer"
        ></div>
      </div>
    </div>
  </section>
  <!-- Секция с формами -->
  <section
    class="mt-8 md:mt-16 lg:mt-20 max-w-[1200px] mx-auto w-full px-4 md:px-0 [&_.form_input]:bg-white"
  >
    <div class="flex flex-col md:flex-row gap-3 md:gap-4">
      <!-- Форма отслеживания -->
      <div class="bg-brand-light p-4 rounded-lg w-full md:w-2/5">
        <h2 class="text-h5 md:text-h4 font-bold text-brand-gray mb-4">
          Отследить
        </h2>
        <form
          class="form form-dark flex flex-row w-full gap-2"
          onsubmit="event.preventDefault(); alert('Пожалуйста, введите номер заказа');"
        >
          <div class="flex items-center rounded-lg grow px-1">
            <input
              type="text"
              placeholder="Номер заказа"
              class="border border-gray-200 px-4 py-3 w-full focus:outline-none text-body-secondary focus:border-gray!"
            />
          </div>
          <button
            class="btn-gray px-3 py-2 rounded-lg text-white flex flex-rows items-center justify-center gap-1 min-w-[6em] text-buttons"
          >
            <img
              src="{{basePath}}assets/img/search.svg"
              alt="Поиск"
              class="w-6 h-6"
            />
            Поиск
          </button>
        </form>

        <div class="relative mt-2 w-full">
          <span
            class="text-sm text-base-content underline cursor-pointer tooltip tooltip-bottom block w-full md:w-auto md:max-w-[20rem] xl:inline-block"
            id="order-hint-trigger"
            data-tip="Обычно номер заказа можно найти в СМС, email, или в личном кабинете.&#10;Если у вас нет номера заказа — запросите его у продавца или отправителя."
            tabindex="0"
          >
            Где найти номер заказа?
          </span>
        </div>
      </div>

      <!-- Форма расчета стоимости -->
      <div class="bg-brand-light p-4 rounded-lg w-full md:w-3/5">
        <h2 class="text-h5 md:text-h4 font-bold text-brand-gray mb-4">
          Рассчитать стоимость и отправить груз
        </h2>

        <!-- Vue-компонент формы направления доставки -->
        <div id="direction-form-app"></div>
      </div>
    </div>
  </section>

  <!-- Секция с разделами -->

  {{> services-cards}}

  <!-- Секция с картой -->
  <section class="max-w-[1200px] mx-auto w-full my-10 px-4 lg:xl-0">
    <h2 class="text-h3 md:text-h2 font-bold text-brand-gray mb-2 md:mb-4">
      Контакты
    </h2>
    <p class="body-secondary caption-regular mb-4 md:mb-8">
      Наша компания имеет более 40 представительств по всей России. Выберите
      одну из отмеченных точек на карте
    </p>
    {{> map-section defaultOffice=defaultOffice}}

    <!-- Скрытый контейнер для хранения данных офисов -->
    <div id="offices-data" class="hidden">
      {{#each offices}}
      <div
        class="office-data"
        data-city="{{city}}"
        data-address="{{address}}"
        data-type="{{type}}"
        data-phone="{{phone}}"
        data-email="{{email}}"
        data-coordinates="{{coordinates.[0]}},{{coordinates.[1]}}"
      ></div>
      {{/each}}
    </div>

    <!-- Скрытые данные для JavaScript -->
    <script type="application/json" id="initial-data">
      {
          "offices": {{{json offices}}},
          "sliders": {{{json sliders}}},
          "newsData": {{{json newsData}}}
      }
    </script>

    <script>
      window.initialData = JSON.parse(
        document.getElementById("initial-data").textContent
      );
    </script>
  </section>
  <!-- Секция "Стать клиентом" -->
  <section
    class="lg:mt-20 max-w-[1200px] mx-auto relative px-4 w-full flex flex-row md:my-[60px] items-center"
  >
    <div class="bg-brand-light w-full rounded-2xl">
      <div
        class="flex flex-col md:flex-row md:items-center w-full items-start z-10 relative justify-center"
      >
        <div class="px-4 md:px-10 mt-20">
          <h2
            class="leading-1 text-h3 md:text-h2 font-bold text-brand-gray mb-4"
          >
            Стать клиентом Aeroline
          </h2>
          <p class="text-body-secondary text-brand-gray mb-6">
            Заполните форму и мы свяжемся с вами!
          </p>
          <a
            href="/user-create.html"
            id="become-client-btn"
            class="btn px-6 py-3 rounded-lg text-buttons become-client-btn"
            >Стать клиентом</a
          >
        </div>
        <img
          class="w-full md:w-2/3 max-w-[600px] md:opacity-100 mx-auto md:min-h-[400px] object-contain object-bottom md:mx-0 md:mr-[-2%] md:mt-[-7%]"
          src="{{basePath}}assets/img/mens-hands.png"
          alt="Рукопожатие мужчин"
        />
      </div>
    </div>
  </section>
  <!-- Секция с новостями (Vue компонент) -->
  <section
    class="max-w-[1200px] mx-auto relative px-4 w-full flex flex-col mb-20 md:mb-0 mt-20 md:mt-[60px]"
  >
    <div class="flex w-full justify-between mb-2 md:mb-4">
      <h2 class="text-h3 md:text-h2 font-bold">Новости</h2>
      <a href="/news" class="text-brand-blue underline">Посмотреть все</a>
    </div>
    <div id="home-page-news-app" class="w-full"></div>
  </section>

  <!-- Секция о компании -->
  <section
    class="px-4 xl:px-0 max-w-[1920px] mx-auto relative lg:py-40 md:py-10 md:py-20"
  >
    <img
      src="{{../basePath}}assets/img/layout/Logotype_aerline_sliced.png"
      alt="Логотип компании"
      class="absolute top-0 left-0 w-full h-full object-contain object-bottom"
    />
    <div class="max-w-[1200px] mx-auto">
      <h2 class="text-h3 md:text-h2 font-bold mb-15 md:mb-10">О компании</h2>
      <div class="relative">
        <div
          class="grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 relative z-10 pl-7 md:pl-0 [&>div>h3]:mt-[-1em] md:[&>div>h3]:mt-0"
        >
          <div
            class="relative pt-0 lg:pt-10 p-10 border-brand-blue border-l border-l-2 lg:rounded-tr-none lg:border-t-2 lg:border-l-0 rounded-br-2xl border-dashed lg:border-b-0 lg:my-[-2px]"
          >
            <div
              class="point-pulse absolute w-[2rem] h-[2rem] rounded-full bg-brand-blue-opacity top-0 left-0 -translate-x-1/2 -translate-y-1/2 lg:top-0 lg:left-0 lg:-translate-x-1/2 lg:-translate-y-1/2"
            >
              <div
                class="point-pulse-inner absolute w-[1rem] h-[1rem] rounded-full bg-brand-blue pulse top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
              ></div>
            </div>

            <h3 class="text-h5 md:text-h4 font-bold text-brand-gray mb-3">
              Aeroline since 2013
            </h3>
            <p class="text-brand-gray">
              Aeroline на&nbsp;рынке транспортно-экспедиционных услуг
              с&nbsp;2011&nbsp;года. За&nbsp;это&nbsp;время мы&nbsp;прошли путь
              от&nbsp;региональной транспортной компании
              в&nbsp;г.&nbsp;Красноярск, оказывающей услуги Экспресс,
              до&nbsp;крупного логистического оператора на&nbsp;территории всей
              Сибири.
            </p>
          </div>

          <div
            class="relative pt-0 lg:pt-10 p-10 border-brand-blue border-l border-l-2 lg:mb-[-1.5px] lg:mt-[-2px] rounded-bl-none border-dashed lg:rounded-tr-2xl lg:rounded-br-2xl lg:rounded-tl-none lg:border-l-0 lg:border-t-2 lg:border-r-2 lg:border-b-2 lg:rounded-bl-none"
          >
            <div
              class="point-pulse absolute w-[2rem] h-[2rem] rounded-full border-2 bg-brand-blue-opacity top-0 left-0 -translate-x-1/2 -translate-y-1/2 lg:top-1 lg:left-auto lg:right-1 lg:translate-x-1/2 lg:-translate-y-1/2"
            >
              <div
                class="point-pulse-inner absolute w-[1rem] h-[1rem] rounded-full bg-brand-blue pulse top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
              ></div>
            </div>

            <h3 class="text-h5 md:text-h4 font-bold text-brand-gray mb-3">
              Расширение сети
            </h3>
            <p class="text-brand-gray">
              Мы&nbsp;не&nbsp;останавливаемся на&nbsp;достигнутом
              и&nbsp;продолжаем развивать географическую сеть обслуживания
              для&nbsp;наших партнёров. Так, в&nbsp;2020&nbsp;году
              мы&nbsp;начали оказывать транспортно-экспедиционные услуги
              по&nbsp;сборному сервису в&nbsp;Иркутской области,
              а&nbsp;в&nbsp;2021&nbsp;году в&nbsp;республике Бурятия.
            </p>
          </div>

          <div
            class="relative pt-0 lg:pt-10 p-10 border-left-2 border-brand-blue lg:border-l border-l border-l-2 border-dashed lg:mt-[-1px] lg:rounded-tl-2xl lg:rounded-bl-2xl lg:rounded-tr-none lg:border-r-0 lg:rounded-br-none lg:border-t-2 lg:border-b-2 lg:border-l-2"
          >
            <div
              class="point-pulse absolute w-[2rem] h-[2rem] rounded-full border-2 bg-brand-blue-opacity top-0 left-0 -translate-x-1/2 -translate-y-1/2 lg:top-auto lg:bottom-1 lg:left-1 lg:-translate-x-1/2 lg:translate-y-1/2"
            >
              <div
                class="point-pulse-inner absolute w-[1rem] h-[1rem] rounded-full bg-brand-blue pulse top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
              ></div>
            </div>

            <h3 class="text-h5 md:text-h4 font-bold text-brand-gray mb-3">
              Новые терминалы
            </h3>
            <p class="text-brand-gray">
              В&nbsp;течении нескольких лет&nbsp;открыты крупные терминалы
              в&nbsp;городах Красноярск, Новосибирск, Иркутск, кросс-докинговые
              терминалы в&nbsp;городах Ачинск, Кемерово, Новокузнецк, Томск.
            </p>
          </div>

          <div
            class="relative pt-0 lg:pt-10 p-10 border-brand-blue border-l border-l-2 border-dashed lg:border-t-0 lg:border-l-0 lg:rounded-bl-none lg:border-b-2"
          >
            <div
              class="point-pulse absolute w-[2rem] h-[2rem] rounded-full border-2 bg-brand-blue-opacity top-0 left-0 -translate-x-1/2 -translate-y-1/2 lg:bottom-0 lg:left-auto lg:top-auto lg:right-0 lg:translate-x-1/2 lg:translate-y-1/2"
            >
              <div
                class="point-pulse-inner absolute w-[1rem] h-[1rem] rounded-full bg-brand-blue pulse top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
              ></div>
            </div>

            <h3 class="text-h5 md:text-h4 font-bold text-brand-gray mb-3">
              Крупные партнеры
            </h3>
            <p class="text-brand-gray">
              За&nbsp;период роста компании, в&nbsp;перечне наших ключевых
              партнёров появились крупные федеральные и&nbsp;транснациональные
              компании, с&nbsp;которыми мы&nbsp;сотрудничаем
              уже&nbsp;на&nbsp;протяжении нескольких&nbsp;лет. Каждый
              год&nbsp;мы заключаем договора с&nbsp;новыми Партнёрами, которые
              доверяют нам, оценивают наш&nbsp;сервис только на&nbsp;«отлично»!»
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция с контактной формой -->
  <section
    class="bg-brand-light max-w-[1920px] mx-auto w-full pt-[8%] md:pb-[5%] md:px-4 3xl:rounded-tl-3xl xl:rounded-tr-3xl"
  >
    <div
      id="contact-form"
      class="md:bg-white rounded-2xl relative w-auto max-w-[1200px] mx-auto"
    >
      <!-- Добавляем фоновое изображение как элемент img вместо CSS background-image -->
      <img
        src="{{basePath}}assets/img/layout/circles.svg"
        alt="Фоновые круги"
        class="absolute right-0 bottom-0 w-1/2 h-auto pointer-events-none z-0 opacity-80 select-none"
      />

      <div class="flex flex-col md:flex-row items-stretch relative z-10">
        <div class="w-full md:w-1/2 mb-6 md:mb-0 p-6 md:p-10 lg:px-20">
          <h2 class="text-h4 md:text-h2 font-bold text-brand-gray mb-3">
            Остались вопросы?
          </h2>
          <p class="text-body-secondary text-brand-gray mb-6">
            Заполните форму и мы свяжемся с вами!
          </p>

          <div id="contact-form-app"></div>
        </div>

        <div
          class="w-full md:w-1/2 flex justify-center md:justify-end md:items-end"
        >
          <img
            src="{{basePath}}assets/img/pilot.png"
            alt="Контактная форма"
            class="w-[60vw] ml-auto md:w-[40vw] md:h-[60vw] object-bottom object-contain max-w-[500px] max-h-[600px] lg:mt-[-20%]"
          />
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Подключаем глобальный скрипт Vue модального окна -->
<script
  type="module"
  src="{{basePath}}assets/vue/entrypoints/global-modal.js"
></script>

<!-- Подключаем Vue-компонент формы направления доставки -->
<script
  type="module"
  src="{{basePath}}assets/vue/entrypoints/home-direction-form.js"
></script>

<!-- Подключаем основной скрипт страницы -->
<script
  type="module"
  src="{{basePath}}assets/js/page-entrypoints/index.js"
></script>

{{> footer menuType="main"}}
