<!-- 487eb4ea-8476-4343-8558-711aacf1e012 888870cd-dc7a-4ec2-b1d6-a9b7d274d001 -->
# –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—á–µ—Ç —Ç–∞—Ä–∏—Ñ–æ–≤, —Ö–æ—Ç—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–ª—è (–≥–æ—Ä–æ–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –≤–µ—Å, –≥–∞–±–∞—Ä–∏—Ç—ã). –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–º–∏ –ø—É–Ω–∫—Ç–∞–º–∏ –∏ –∞–¥—Ä–µ—Å–∞–º–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤.

## –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ID –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ –≤ DirectionForm

**–§–∞–π–ª:** `assets/vue/components/pages/calculator/DirectionForm.vue`

–í `formData.direction` –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤, –Ω–æ –∏ –∏—Ö ID:

- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `fromLocalityId` –∏ `toLocalityId` –≤ modelValue
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å `locality.id` –≤–º–µ—Å—Ç–µ —Å –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –∞–¥—Ä–µ—Å–æ–≤ –≤ calculateTariffCost

**–§–∞–π–ª:** `assets/vue/components/pages/calculator/CalculatorPage.vue` (—Å—Ç—Ä–æ–∫–∏ 349-358)

–¢–µ–∫—É—â–∏–π –∫–æ–¥ (–Ω–µ–≤–µ—Ä–Ω—ã–π):

```javascript
const fromAddress = billingAddresses.value.find(addr => addr.locality === direction.from);
const toAddress = billingAddresses.value.find(addr => addr.locality === direction.to);
```

–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞:

```javascript
const fromAddress = billingAddresses.value.find(addr => addr.locality_id === direction.fromLocalityId);
const toAddress = billingAddresses.value.find(addr => addr.locality_id === direction.toLocalityId);
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –∑–æ–Ω

**–§–∞–π–ª:** `assets/vue/components/pages/calculator/CalculatorPage.vue` (—Å—Ç—Ä–æ–∫–∏ 361-365)

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–¥—Ä–µ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `locality_id` –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–∞—Ä–∏—Ñ–Ω–æ–π –∑–æ–Ω—ã:

```javascript
const tariffZone = tariffZones.value.find(tz => 
    tz.takeLocality_id === direction.fromLocalityId && 
    tz.deliverLocality_id === direction.toLocalityId &&
    tz.transportType_id === typeTransportation.id
);
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤

**–§–∞–π–ª:** `assets/vue/components/pages/calculator/CalculatorPage.vue`

–í —Ñ—É–Ω–∫—Ü–∏–∏ `getAllTariffsWithStatus` (—Å—Ç—Ä–æ–∫–∏ 252-346):

- –ï—Å–ª–∏ –≤–µ—Å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω ‚Üí —Ç–∞—Ä–∏—Ñ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ —Ç–∞—Ä–∏—Ñ—ã –≤—Å–µ–≥–¥–∞ (–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ)
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü—Ä–µ–≤—ã—à–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å", "–ù–µ—Ç —Ç–∞—Ä–∏—Ñ–Ω–æ–π –∑–æ–Ω—ã –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è")

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–§–∞–π–ª:** `assets/vue/components/pages/calculator/CalculatorPage.vue` (—Å—Ç—Ä–æ–∫–∏ 917-941)

–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∞–¥—Ä–µ—Å–æ–≤ –∏–∑ GET-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–∞–∫–∂–µ `locality_id`:

```javascript
if (fromId) {
    const locality = localities.value.find(loc => loc.id == fromId);
    if (locality) {
        formData.direction.fromAddress = locality;
        formData.direction.from = formatSelectedLocalityName(locality);
        formData.direction.fromLocalityId = locality.id;
    }
}
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ 1.c)

- –ì–æ—Ä–æ–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- –í–µ—Å –≥—Ä—É–∑–∞
- –ì–∞–±–∞—Ä–∏—Ç—ã (–¥–ª–∏–Ω–∞, —à–∏—Ä–∏–Ω–∞, –≤—ã—Å–æ—Ç–∞)

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤ (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ 2.a)

- –í—Å–µ —Ç–∞—Ä–∏—Ñ—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ–≥–¥–∞
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ (—Å–µ—Ä—ã–π —Ñ–æ–Ω, –Ω–µ–ª—å–∑—è –≤—ã–±—Ä–∞—Ç—å)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏—á–∏–Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –õ–æ–≥–∏–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –≤–µ—Å–∞ (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ 3.b)

- –ï—Å–ª–∏ –≤–µ—Å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤ —Ç–∞—Ä–∏—Ñ–Ω–æ–π —Å–µ—Ç–∫–µ ‚Üí —Ç–∞—Ä–∏—Ñ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–∏—á–∏–Ω–∞: "–ü—Ä–µ–≤—ã—à–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞"

## –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. `assets/vue/components/pages/calculator/DirectionForm.vue`
2. `assets/vue/components/pages/calculator/CalculatorPage.vue`

### To-dos

- [x] –û–±–Ω–æ–≤–∏—Ç—å DirectionForm –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è locality_id –≤–º–µ—Å—Ç–µ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≥–æ—Ä–æ–¥–æ–≤
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤ –ø–æ locality_id –≤ calculateTariffCost
- [x] –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∏—Å–∫ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –∑–æ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è locality_id –Ω–∞–ø—Ä—è–º—É—é
- [x] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤ —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏
- [x] –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è locality_id
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç —Ç–∞—Ä–∏—Ñ–æ–≤ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —É—á–∏—Ç—ã–≤–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (0.1 –∫–≥, 10√ó10√ó5 —Å–º, 1 —à—Ç)
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –ø–æ–¥ –±–ª–æ–∫–æ–º "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—á—ë—Ç–∞"
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `cargoInfo` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –û–±—â–∏–π —Ç–∞—Ä–∏—Ñ
- [x] –°–æ–∑–¥–∞–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–∞—Ä–∏—Ñ, –¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–ª—è –≤—Å–µ—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getDefaultTariff()` –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `calculateDefaultTariffCost()` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –æ–±—â–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∞—Ä–∏—Ñ–æ–≤
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `checkTariffConstraints()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –≤–µ—Å—É, –æ–±—ä–µ–º—É, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –∏ —Ä–µ–≥–∏–æ–Ω–∞–º
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ç–∞—Ä–∏—Ñ–æ–≤

### –£–ª—É—á—à–µ–Ω–∏—è UI/UX
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ "NaN ‚ÇΩ" –≤ –æ–±—â–µ–º —Ç–∞—Ä–∏—Ñ–µ
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è `cost` –≤–º–µ—Å—Ç–æ `totalCost` –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- [x] –£–±—Ä–∞–Ω—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –∏–∑ —Ñ–æ—Ä–º—ã –≤–≤–æ–¥–∞
- [x] –ü–µ—Ä–µ–º–µ—â–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ

## üéØ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ –†–∞—Å—á–µ—Ç —Ç–∞—Ä–∏—Ñ–æ–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
- ‚úÖ –í—Å–µ —Ç–∞—Ä–∏—Ñ—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ)
- ‚úÖ –û–±—â–∏–π —Ç–∞—Ä–∏—Ñ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –Ω–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∞—Ä–∏—Ñ–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –Ω–æ–≤–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∞—Ü–∏–∏. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.
